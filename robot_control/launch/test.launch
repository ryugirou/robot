<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="manager_name" default="nodelet_manager" />
  <arg name="nodelet_mode" default="standalone" /><!-- set to standalone if you want to use as node-->

  <!-- CAN -->
  <node pkg="nodelet" type="nodelet" name="usb_can_node" args="$(arg nodelet_mode) can_plugins/UsbCanNode $(arg manager_name)" output="screen">
    <param name="port" value="/dev/ttyACM0"/>
  </node>    

  <node pkg="nodelet" type="nodelet" name="can_handler" args="$(arg nodelet_mode) can_plugins/CanHandler $(arg manager_name)" output="screen">
    <param name="beta0" value="$(eval 0x4b0)"/>
    <param name="beta1" value="$(eval 0x5b4)"/>
    <param name="beta2" value="$(eval 0x4c8)"/>
    <param name="beta3" value="$(eval 0x4c4)"/>
    <remap from="beta/motor0_cmd_vel" to="base/motor0_cmd_vel"/>
    <remap from="beta/motor1_cmd_vel" to="base/motor1_cmd_vel"/>
    <remap from="beta/motor2_cmd_vel" to="base/motor2_cmd_vel"/>
    <remap from="beta/motor3_cmd_vel" to="base/motor3_cmd_vel"/>
  </node>

</launch>
